<nav year="{{ year }}" term-short-code="{{ termShortCode }}" workgroup-id="{{ workgroupId }}"></nav>
<div class="main-content">

	<div class="report-page-title">
		<h3>Teaching Call Response Report</h3>
		<p>{{ sharedState.workgroup.name }}</p>
	</div>

	<!-- table header -->
	<div class="table-header">
		<div class="instructor-header">
			Instructors
		</div>
		<div ng-repeat="termCode in view.state.termCodes" class="term-header">
			{{ getTermName(termCode) }}
		</div>
	</div>

	<div class="dividing-bar-darker">
	</div>

	<!-- table body (row pairs) -->
	<div ng-repeat="instructor in view.state.instructors">
		<!-- instructor row -->
		<div class="instructor-row">
			<div class="instructor-cell">
				{{ instructor.fullName }}
				<i ng-if="instructor.submitted" class="green glyphicon glyphicon-ok"
				uib-tooltip="Submitted Preferences" tooltip-placement="top" tooltip-append-to-body="true"></i>
			</div>
			<div ng-repeat="termCode in view.state.termCodes" class="term-cell">
				<div ng-repeat="preference in instructor.preferencesByTermCode[termCode]">
					{{ preference.description }}
				</div>
				<div >
					Availability:
				</div>
				<div ng-if="availability.times.length > 0" ng-repeat="availability in instructor.availabilityByTermCode[termCode]">
					<b>{{ availability.day }}</b> {{ availability.times }}
				</div>
			</div>
		</div>

		<!-- comment row -->
		<div ng-if="instructor.comment.length > 0" class="comment-row">
			<div class="comment-cell">
				{{ instructor.comment }}
			</div>
		</div>

		<div ng-if="$last == false" class="dividing-bar">
		</div>

	</div>
</div>